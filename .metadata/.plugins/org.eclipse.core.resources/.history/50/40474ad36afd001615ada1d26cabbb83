package cn.edu.ccut.test;

import java.util.Iterator;
import java.util.List;

import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import cn.edu.ccut.po.Student;
import cn.edu.ccut.service.IStudentService;
import cn.edu.ccut.service.impl.StudentService;

public class StudentTest {
	
	@Test
	public void testStudentList() {
		ApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
		IStudentService service = context.getBean("studentService",StudentService.class);
		List<Student> all = service.listAll(new Student(),1, 5);
		Iterator<Student> iterator = all.iterator();
		while(iterator.hasNext()) {
			System.out.println(iterator.next());
		}
	}
	
	@Test
	public void testStudentAdd() {
		Student student = new Student();
		student.setId(55);
		student.setName("john");
		student.setSex("男");
		student.setAge(24);
		student.setTel("123456789556");
		student.setLoc("北京");
		ApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
		IStudentService service = context.getBean("studentService",StudentService.class);
		service.add(student);
	}
	
	@Test
	public void testStudentUpdate() {
		Student student = new Student();
		student.setId(1);
		student.setName("john");
		student.setSex("男");
		student.setAge(33);
		student.setTel("123456789556");
		student.setLoc("北京");
		ApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");
		IStudentService service = context.getBean("studentService",StudentService.class);
		service.add(student);
	}
}
